"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[411],{6411:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var s=n(2791),r="Profile_profile__iA9ZL",o="Post_item__05pLk",i=n(184),l=n(6306),c=function(e){var t=e.postText,n=e.likeCount,s=e.profile;return(0,i.jsxs)("div",{className:o,children:[s&&(0,i.jsx)("img",{src:s.photos.small||l,alt:""}),t,(0,i.jsxs)("div",{children:["like ",n]})]})},u=n(5705),a=n(5304),d="MyPostsForm_errorTextarea__KG6kG",x="MyPostsForm_error__dsCO5",j="MyPostsForm_form__XJ-HO",f=function(e){var t=e.addPosts;return(0,i.jsx)("div",{className:j,children:(0,i.jsx)(u.J9,{initialValues:{postText:""},onSubmit:function(e){t(e.postText),e.postText=""},children:function(e){var t=e.errors;return(0,i.jsxs)(u.l0,{children:[(0,i.jsx)(u.gN,{name:"postText",component:"textarea",placeholder:"Write a post...",validate:a.C,className:t.postText?d:void 0}),t.postText&&(0,i.jsx)("div",{className:x,children:t.postText}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",children:"Add post"})})]})}})})},p=function(e){var t=e.posts,n=e.profile,s=e.addPosts,r=t.map((function(e){return(0,i.jsx)(c,{postText:e.text,profile:n,likeCount:e.likeCount},e.id)}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:"My post"}),(0,i.jsx)(f,{addPosts:s}),r]})},h=(0,s.memo)(p),m=n(3531),v=n(7848),b=(0,m.$j)((function(e){return{posts:e.profile.posts,profile:e.profile.profile}}),{addPost:v.q2})((function(e){var t=e.posts,n=e.profile,s=e.addPost;return(0,i.jsx)(h,{posts:t,profile:n,addPosts:s})})),g=n(6159),_=n(9439),k="ProfileInfo_profileInfo__XMtGF",N="ProfileStatus_status__ZVD3J",y=function(e){return e.profile.status},O=function(e){return e.profile.profile},P=function(e){var t=e.isOwner,n=(0,m.I0)(),r=(0,m.v9)(y),o=(0,s.useState)(!1),l=(0,_.Z)(o,2),c=l[0],u=l[1],a=(0,s.useState)(r),d=(0,_.Z)(a,2),x=d[0],j=d[1];(0,s.useEffect)((function(){j(r)}),[r]);return(0,i.jsx)("div",{className:N,children:t?c?(0,i.jsx)("div",{children:(0,i.jsx)("input",{placeholder:"Change your status",autoFocus:!0,onChange:function(e){j(e.currentTarget.value)},onBlur:function(){u(!1),n((0,v.Nf)(x))},value:x})}):(0,i.jsxs)("div",{onDoubleClick:function(){u(!0)},children:[(0,i.jsx)("b",{children:"Status: "}),r]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Status: "}),r]})})},T=function(e){var t=e.profile,n=e.setEditMode,s=(0,m.I0)();return t&&(0,i.jsx)(u.J9,{initialValues:t,onSubmit:function(e){s((0,v.Ii)(e)),n(!1)},children:function(e){e.errors;return(0,i.jsxs)(u.l0,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:" Name: "}),(0,i.jsx)(u.gN,{name:"fullName",component:"input",placeholder:"Your name"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Looking for a job "}),(0,i.jsx)(u.gN,{name:"lookingForAJob",component:"input",type:"checkBox"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Search job status: "}),(0,i.jsx)(u.gN,{name:"lookingForAJobDescription",component:"input",placeholder:"Your job status"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"About me: "}),(0,i.jsx)(u.gN,{name:"aboutMe",component:"input",placeholder:"Tell about yourself"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return(0,i.jsxs)("div",{children:[(0,i.jsxs)("b",{children:[e,": "]}),(0,i.jsx)(u.gN,{name:"contacts.".concat(e),component:"input",placeholder:"Your ".concat(e)})]},e)}))]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",children:"Save information"})})]})}})},C=n(6306),S=function(e){var t=e.contactTitle,n=e.contactValue;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("b",{children:[t,": "]})," ",n]})},A=function(e){var t=e.profile,n=e.isOwner,r=(0,m.I0)(),o=(0,s.useState)(!1),l=(0,_.Z)(o,2),c=l[0],u=l[1];return(0,i.jsxs)("div",{className:k,children:[t&&(0,i.jsx)("img",{src:t.photos.large||C,alt:""}),n&&(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&r((0,v.Ju)(e.target.files[0]))}})}),(0,i.jsx)(P,{isOwner:n}),!c&&(0,i.jsxs)("div",{children:[n&&(0,i.jsx)("button",{onClick:function(){return u(!0)},children:"Edit information"}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Name: "})," ",t.fullName]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Search job status: "})," ",t.lookingForAJobDescription]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"About me: "})," ",t.aboutMe]}),Object.keys(t.contacts).map((function(e){return(0,i.jsx)(S,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]}),c&&(0,i.jsx)(T,{profile:t,setEditMode:u})]})},F=n(5904),I=n(7689),w=n(8683),M=n(3366);var J=["isAuth"],Z=function(e){return{isAuth:e.auth.isAuth}};var E,V=(E=function(){var e=(0,m.I0)(),t=(0,m.v9)(F.n5),n=(0,m.v9)(O),o=(0,I.UO)();return(0,s.useEffect)((function(){!function(){var n=Number(o.userId)||null;n||(n=t),n&&(e((0,v.Ai)(n)),e((0,v.lR)(n)))}()}),[o,t]),n?(0,i.jsxs)("div",{className:r,children:[(0,i.jsx)(A,{profile:n,isOwner:Number(o.userId)===t||!o.userId}),(0,i.jsx)(b,{})]}):(0,i.jsx)(g.Z,{})},(0,m.$j)(Z,{})((function(e){var t=e.isAuth,n=function(e,t){if(null==e)return{};var n,s,r=(0,M.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,J);return t?(0,i.jsx)(E,(0,w.Z)({},n)):(0,i.jsx)(I.Fg,{to:"/login"})})))}}]);
//# sourceMappingURL=411.6ef4ec0e.chunk.js.map