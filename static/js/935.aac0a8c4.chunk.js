"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[935],{5935:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n=s(9439),r=s(5705),i=s(2791),o=s(3531),l=function(e){return e.chat.messages},u=function(e){return e.chat.status},c=s(3999),a=s(184),f=function(e){var t=e.isAutoScroll,s=e.setIsAutoScroll,n=(0,o.v9)(l),r=(0,i.useRef)(null);return(0,i.useEffect)((function(){t&&function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[n]),(0,a.jsxs)("div",{style:{height:"590px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<100?s(!0):s(!1)},children:[n.map((function(e,t){return(0,a.jsx)(h,{message:e},e.id)})),(0,a.jsx)("div",{ref:r})]})},h=(0,i.memo)((function(e){var t=e.message;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:t.photo,alt:"",style:{width:"30px"}})," ",(0,a.jsx)("b",{children:t.userName}),(0,a.jsx)("div",{children:t.message})]})})),d=function(e){var t=e.setIsAutoScroll,s=(0,o.I0)(),n=(0,o.v9)(u);return(0,a.jsx)(r.J9,{initialValues:{message:""},enableReinitialize:!0,onSubmit:function(e,n){s((0,c.bG)(e.message)),t(!0),n.resetForm()},children:function(e){e.errors;var t=e.values;return(0,a.jsxs)(r.l0,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.gN,{name:"message",component:"textarea",type:"text",placeholder:"Write a message..."})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:"ready"!==n||""===t.message,children:"Send message"})})]})}})},m=function(){var e=(0,o.I0)(),t=((0,o.v9)(u),(0,i.useState)(!0)),s=(0,n.Z)(t,2),r=s[0],l=s[1];return(0,i.useEffect)((function(){return e((0,c.eh)()),function(){e((0,c.nD)())}}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{isAutoScroll:r,setIsAutoScroll:l}),(0,a.jsx)(d,{setIsAutoScroll:l})]})}}}]);
//# sourceMappingURL=935.aac0a8c4.chunk.js.map